<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>初识Android | Bosh's Blog</title><meta name="author" content="bosh"><meta name="copyright" content="bosh"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="简单学习一下Android之后，这里笔者准备在看一些课程，就比如吾爱破解的 课程：吾爱破解安卓逆向入门教程《安卓逆向这档事》二、初识APK文件结构、双开、汉化、基础修改_哔哩哔哩_bilibili 文章：《安卓逆向这档事》二、初识APK文件结构、双开、汉化、基础修 - 吾爱破解 - 52pojie.cn 怎么说呢？这个就打算写的杂一些 初始APK文结构没啥说的，在笔者前面一篇文章中有写到过">
<meta property="og:type" content="article">
<meta property="og:title" content="初识Android">
<meta property="og:url" content="http://example.com/2025/05/20/%E5%88%9D%E8%AF%86Android/index.html">
<meta property="og:site_name" content="Bosh&#39;s Blog">
<meta property="og:description" content="简单学习一下Android之后，这里笔者准备在看一些课程，就比如吾爱破解的 课程：吾爱破解安卓逆向入门教程《安卓逆向这档事》二、初识APK文件结构、双开、汉化、基础修改_哔哩哔哩_bilibili 文章：《安卓逆向这档事》二、初识APK文件结构、双开、汉化、基础修 - 吾爱破解 - 52pojie.cn 怎么说呢？这个就打算写的杂一些 初始APK文结构没啥说的，在笔者前面一篇文章中有写到过">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://z-bosh.github.io/img/Android1.jpg">
<meta property="article:published_time" content="2025-05-20T00:00:00.000Z">
<meta property="article:modified_time" content="2025-06-19T01:42:09.465Z">
<meta property="article:author" content="bosh">
<meta property="article:tag" content="Android">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://z-bosh.github.io/img/Android1.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2025/05/20/%E5%88%9D%E8%AF%86Android/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '初识Android',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-06-19 01:42:09'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/img/background1.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://z-bosh.github.io/img/Android1.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Bosh's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">初识Android</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">初识Android</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-20T00:00:00.000Z" title="发表于 2025-05-20 00:00:00">2025-05-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-19T01:42:09.465Z" title="更新于 2025-06-19 01:42:09">2025-06-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AE%89%E5%8D%93%E9%80%86%E5%90%91/">安卓逆向</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">4.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p> 简单学习一下Android之后，这里笔者准备在看一些课程，就比如吾爱破解的</p>
<p><strong>课程：</strong><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV18G411j7gV?spm_id_from=333.788.videopod.sections&vd_source=2d5d92f8392dd823a882ab043d25c892">吾爱破解安卓逆向入门教程《安卓逆向这档事》二、初识APK文件结构、双开、汉化、基础修改_哔哩哔哩_bilibili</a></p>
<p><strong>文章：</strong><a target="_blank" rel="noopener" href="https://www.52pojie.cn/thread-1695796-1-1.html">《安卓逆向这档事》二、初识APK文件结构、双开、汉化、基础修 - 吾爱破解 - 52pojie.cn</a></p>
<p>怎么说呢？这个就打算写的杂一些</p>
<h1 id="初始APK文结构"><a href="#初始APK文结构" class="headerlink" title="初始APK文结构"></a>初始APK文结构</h1><p>没啥说的，在笔者前面一篇文章中有写到过</p>
<table>
<thead>
<tr>
<th align="left">文件</th>
<th align="left">注释</th>
</tr>
</thead>
<tbody><tr>
<td align="left">assets目录</td>
<td align="left">存放APK的静态资源文件，比如视频，音频，图片等</td>
</tr>
<tr>
<td align="left">lib 目录</td>
<td align="left">armeabi-v7a基本通用所有android设备，arm64-v8a只适用于64位的android设备，x86常见用于android模拟器，其目录下的.so文件是c或c++编译的动态链接库文件</td>
</tr>
<tr>
<td align="left">META-INF目录</td>
<td align="left">保存应用的签名信息，签名信息可以验证APK文件的完整性，相当于APK的身份证(验证文件是否又被修改)</td>
</tr>
<tr>
<td align="left">res目录</td>
<td align="left">res目录存放资源文件，包括图片，字符串等等，APK的脸蛋由他的layout文件设计</td>
</tr>
<tr>
<td align="left">AndroidManifest.xml文件</td>
<td align="left">APK的应用清单信息，它描述了应用的名字，版本，权限，引用的库文件等等信息</td>
</tr>
<tr>
<td align="left">classes.dex文件</td>
<td align="left">classes.dex是java源码编译后生成的java字节码文件，APK运行的主要逻辑</td>
</tr>
<tr>
<td align="left">resources.arsc文件</td>
<td align="left">resources.arsc是编译后的二进制资源文件，它是一个映射表，映射着资源和id，通过R文件中的id就可以找到对应的资源</td>
</tr>
</tbody></table>
<h1 id="双开及原理"><a href="#双开及原理" class="headerlink" title="双开及原理"></a>双开及原理</h1><p>双开：简单来说，就是手机同时运行两个或多个相同的应用，例如运行两个微信</p>
<table>
<thead>
<tr>
<th align="left">原理</th>
<th align="left">解释</th>
</tr>
</thead>
<tbody><tr>
<td align="left">修改包名</td>
<td align="left">让手机系统认为这是2个APP，这样的话就能生成2个数据存储路径，此时的多开就等于你打开了两个互不干扰的APP</td>
</tr>
<tr>
<td align="left">修改Framework</td>
<td align="left">对于有系统修改权限的厂商，可以修改Framework来实现双开的目的，例如：小米自带多开</td>
</tr>
<tr>
<td align="left">通过虚拟化技术实现</td>
<td align="left">虚拟Framework层、虚拟文件系统、模拟Android对组件的管理、虚拟应用进程管理 等一整套虚拟技术，将APK复制一份到虚拟空间中运行，例如：平行空间</td>
</tr>
<tr>
<td align="left">以插件机制运行</td>
<td align="left">利用反射替换，动态代{过}{滤}理，hook了系统的大部分与system—server进程通讯的函数，以此作为“欺上瞒下”的目的，欺骗系统“以为”只有一个apk在运行，瞒过插件让其“认为”自己已经安装。例如：VirtualApp</td>
</tr>
</tbody></table>
<p>这里up主推荐实操第一个，因为后几个比较难。</p>
<p>简单修改应用包名实现应用双开，当我们修改<strong>包名</strong>之后，进行安装的时候，手机系统会认为它是两个应用(APP)</p>
<blockquote>
<p><strong>MT和NP管理器网上下一下即可</strong></p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202505251712399.png" alt="image-20250525171122145"></p>
<p>双开就是修改上面的包名即可，</p>
<ul>
<li>安装包提取就不说了</li>
<li>功能实现APK共存</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202505251715739.png" alt="image-20250525171542478"></p>
<ul>
<li>安装成功</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202505251853464.png" alt="image-20250525185317136"></p>
<p>然后你就能看见两个相同的应用了</p>
<blockquote>
<p>MT管理器和NP管理器均在登录下可使用APK共存，不涉及到VIP业务</p>
</blockquote>
<h1 id="游戏汉化"><a href="#游戏汉化" class="headerlink" title="游戏汉化"></a>游戏汉化</h1><p>汉化：使用专门的工具对外文版的软件资源进行读取、翻译、修改、回写等一系列处理，使软件的菜单、对话框、提示等用户界面显示为中文，而程序的内核和功能保持不变，这个过程即为软件汉化</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202505231316971.png" alt="image-20250523131613905"></p>
<p>大概看一眼，更具这个流程图简单看下</p>
<ul>
<li>汉化</li>
</ul>
<p>主要是通过搜索和反编译来进行修改</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202505251905031.png" alt="image-20250525190426843"></p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202505251906354.png" alt="image-20250525190659256"></p>
<p>然后就可以正常修改了，其他大差不差。</p>
<h1 id="什么是JVM、Dalvik、ART"><a href="#什么是JVM、Dalvik、ART" class="headerlink" title="什么是JVM、Dalvik、ART?"></a>什么是JVM、Dalvik、ART?</h1><p><strong>JVM是JAVA虚拟机，运行JAVA字节码程序</strong></p>
<p><strong>Dalvik是Google专门为安卓设计的一个虚拟机，Dalvik有专属的文件执行格式dex(Dalvik executable)</strong></p>
<p><strong>Art(Android Runtime)相当于Dalvik的升级版，本质与Dalvik无异</strong></p>
<h1 id="smali及其语法"><a href="#smali及其语法" class="headerlink" title="smali及其语法"></a>smali及其语法</h1><p>简单来说smali就是Dalvik的寄存器语言，smali代码是dex反编译而来的。</p>
<p><strong>关键字</strong></p>
<table>
<thead>
<tr>
<th align="left">名称</th>
<th align="left">注释</th>
</tr>
</thead>
<tbody><tr>
<td align="left">.class</td>
<td align="left">类名</td>
</tr>
<tr>
<td align="left">.super</td>
<td align="left">父类名，继承的上级类名名称</td>
</tr>
<tr>
<td align="left">.source</td>
<td align="left">源名</td>
</tr>
<tr>
<td align="left">.field</td>
<td align="left">变量</td>
</tr>
<tr>
<td align="left">.method</td>
<td align="left">方法名</td>
</tr>
<tr>
<td align="left">.register</td>
<td align="left">寄存器</td>
</tr>
<tr>
<td align="left">.end method</td>
<td align="left">方法名的结束</td>
</tr>
<tr>
<td align="left">public</td>
<td align="left">公有</td>
</tr>
<tr>
<td align="left">protected</td>
<td align="left">半公开，只有同一家人才能用</td>
</tr>
<tr>
<td align="left">private</td>
<td align="left">私有，只能自己使用</td>
</tr>
<tr>
<td align="left">.parameter</td>
<td align="left">方法参数</td>
</tr>
<tr>
<td align="left">.prologue</td>
<td align="left">方法开始</td>
</tr>
<tr>
<td align="left">.line xxx</td>
<td align="left">位于第xxx行</td>
</tr>
</tbody></table>
<p><strong>数据类型对应</strong></p>
<table>
<thead>
<tr>
<th align="left">smali类型</th>
<th align="left">java类型</th>
<th align="left">注释</th>
</tr>
</thead>
<tbody><tr>
<td align="left">V</td>
<td align="left">void</td>
<td align="left">无返回值</td>
</tr>
<tr>
<td align="left">Z</td>
<td align="left">boolean</td>
<td align="left">布尔值类型，返回0或1</td>
</tr>
<tr>
<td align="left">B</td>
<td align="left">byte</td>
<td align="left">字节类型，返回字节</td>
</tr>
<tr>
<td align="left">S</td>
<td align="left">short</td>
<td align="left">短整数类型，返回数字</td>
</tr>
<tr>
<td align="left">C</td>
<td align="left">char</td>
<td align="left">字符类型，返回字符</td>
</tr>
<tr>
<td align="left">I</td>
<td align="left">int</td>
<td align="left">整数类型，返回数字</td>
</tr>
<tr>
<td align="left">J</td>
<td align="left">long （64位 需要2个寄存器存储）</td>
<td align="left">长整数类型，返回数字</td>
</tr>
<tr>
<td align="left">F</td>
<td align="left">float</td>
<td align="left">单浮点类型，返回数字</td>
</tr>
<tr>
<td align="left">D</td>
<td align="left">double （64位 需要2个寄存器存储）</td>
<td align="left">双浮点类型，返回数字</td>
</tr>
<tr>
<td align="left">string</td>
<td align="left">String</td>
<td align="left">文本类型，返回字符串</td>
</tr>
<tr>
<td align="left">Lxxx&#x2F;xxx&#x2F;xxx</td>
<td align="left">object</td>
<td align="left">对象类型，返回对象</td>
</tr>
</tbody></table>
<p><strong>常用指令</strong></p>
<table>
<thead>
<tr>
<th align="left">关键字</th>
<th align="left">注释</th>
</tr>
</thead>
<tbody><tr>
<td align="left">const</td>
<td align="left">重写整数属性，真假属性内容，只能是数字类型</td>
</tr>
<tr>
<td align="left">const-string</td>
<td align="left">重写字符串内容</td>
</tr>
<tr>
<td align="left">const-wide</td>
<td align="left">重写长整数类型，多用于修改到期时间。</td>
</tr>
<tr>
<td align="left">return</td>
<td align="left">返回指令</td>
</tr>
<tr>
<td align="left">if-eq</td>
<td align="left">全称equal(a&#x3D;b)，比较寄存器ab内容，相同则跳</td>
</tr>
<tr>
<td align="left">if-ne</td>
<td align="left">全称not equal(a!&#x3D;b)，ab内容不相同则跳</td>
</tr>
<tr>
<td align="left">if-eqz</td>
<td align="left">全称equal zero(a&#x3D;0)，z即是0的标记，a等于0则跳</td>
</tr>
<tr>
<td align="left">if-nez</td>
<td align="left">全称not equal zero(a!&#x3D;0)，a不等于0则跳</td>
</tr>
<tr>
<td align="left">if-ge</td>
<td align="left">全称greater equal(a&gt;&#x3D;b)，a大于或等于则跳</td>
</tr>
<tr>
<td align="left">if-le</td>
<td align="left">全称little equal(a&lt;&#x3D;b)，a小于或等于则跳</td>
</tr>
<tr>
<td align="left">goto</td>
<td align="left">强制跳到指定位置</td>
</tr>
<tr>
<td align="left">switch</td>
<td align="left">分支跳转，一般会有多个分支线，并根据指令跳转到适当位置</td>
</tr>
<tr>
<td align="left">iget</td>
<td align="left">获取寄存器数据</td>
</tr>
</tbody></table>
<h1 id="广告类型"><a href="#广告类型" class="headerlink" title="广告类型"></a>广告类型</h1><p>启动广告   弹窗&amp;更新广告  横幅广告</p>
<p><strong>启动广告的流程：</strong></p>
<p><code>启动Activity--&gt;广告Activity--&gt;主页Activity</code></p>
<p><strong>修改方法：</strong></p>
<p>1.修改加载时间</p>
<p>2.Activity切换定位，修改Intent的Activity类名</p>
<h1 id="弹窗定位-堆栈分析"><a href="#弹窗定位-堆栈分析" class="headerlink" title="弹窗定位&amp;堆栈分析"></a>弹窗定位&amp;堆栈分析</h1><p><strong>修改方法：</strong><br>1.修改xml中的versiocode<br>2.Hook弹窗(推荐算法助手开启弹窗定位)<br>3.修改dex弹窗代码<br>4.抓包修改响应体(也可以路由器拦截)</p>
<blockquote>
<p>实操一下还是比较麻烦的。</p>
<p>下载算法助手之后会发现我们缺少Xposed模块。</p>
<p>并且我们的算法助手是强制更新的，然后呢我们可以学以致用，直接给改就好。</p>
<p>直接去看第一期安装环境那里，安装Magisk Delta之后即可解锁LSPosed模块是一样的</p>
<p>但是注意有可能安装失败，报错是没有权限的原因的话，修改下图即可</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506011709207.png" alt="image-20250601170956109"></p>
<p>然后我们成功安装之后，可以下载一个下面的软件管理，也可以使用up主的方法</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506011710762.png" alt="image-20250601171023725"></p>
<p>安装包在</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506011711635.png" alt="image-20250601171131556"></p>
<p>具体文章看这块<a target="_blank" rel="noopener" href="https://www.52pojie.cn/thread-2033653-1-1.html">算法助手模块激活教程 - 吾爱破解 - 52pojie.cn</a></p>
<p>注意勾选我们需要的软件即可。</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506021205305.png" alt="image-20250602120550181"></p>
</blockquote>
<h1 id="四大组件"><a href="#四大组件" class="headerlink" title="四大组件"></a>四大组件</h1><p>没啥说的</p>
<table>
<thead>
<tr>
<th align="left">组件</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Activity(活动)</td>
<td align="left">在应用中的一个Activity可以用来表示一个界面，意思可以理解为“活动”，即一个活动开始，代表 Activity组件启动，活动结束，代表一个Activity的生命周期结束。一个Android应用必须通过Activity来运行和启动，Activity的生命周期交给系统统一管理。</td>
</tr>
<tr>
<td align="left">Service(服务)</td>
<td align="left">Service它可以在后台执行长时间运行操作而没有用户界面的应用组件，不依赖任何用户界面，例如后台播放音乐，后台下载文件等。</td>
</tr>
<tr>
<td align="left">Broadcast Receiver(广播接收器)</td>
<td align="left">一个用于接收广播信息，并做出对应处理的组件。比如我们常见的系统广播：通知时区改变、电量低、用户改变了语言选项等。</td>
</tr>
<tr>
<td align="left">Content Provider(内容提供者)</td>
<td align="left">作为应用程序之间唯一的共享数据的途径，Content Provider主要的功能就是存储并检索数据以及向其他应用程序提供访问数据的接口。Android内置的许多数据都是使用Content Provider形式，供开发者调用的（如视频，音频，图片，通讯录等）</td>
</tr>
</tbody></table>
<h1 id="Activity的生命周期"><a href="#Activity的生命周期" class="headerlink" title="Activity的生命周期"></a>Activity的生命周期</h1><table>
<thead>
<tr>
<th align="left">函数名称</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">onCreate()</td>
<td align="left">一个Activity启动后第一个被调用的函数，常用来在此方法中进行Activity的一些初始化操作。例如创建View，绑定数据，注册监听，加载参数等。</td>
</tr>
<tr>
<td align="left">onStart()</td>
<td align="left">当Activity显示在屏幕上时，此方法被调用但此时还无法进行与用户的交互操作。</td>
</tr>
<tr>
<td align="left">onResume()</td>
<td align="left">这个方法在onStart()之后调用，也就是在Activity准备好与用户进行交互的时候调用，此时的Activity一定位于Activity栈顶，处于运行状态。</td>
</tr>
<tr>
<td align="left">onPause()</td>
<td align="left">这个方法是在系统准备去启动或者恢复另外一个Activity的时候调用，通常在这个方法中执行一些释放资源的方法，以及保存一些关键数据。</td>
</tr>
<tr>
<td align="left">onStop()</td>
<td align="left">这个方法是在Activity完全不可见的时候调用的。</td>
</tr>
<tr>
<td align="left">onDestroy()</td>
<td align="left">这个方法在Activity销毁之前调用，之后Activity的状态为销毁状态。</td>
</tr>
<tr>
<td align="left">onRestart()</td>
<td align="left">当Activity从停止stop状态恢进入start状态时调用状态。</td>
</tr>
</tbody></table>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506011445729.png" alt="image-20250601144359273"></p>
<h1 id="JEB动态调试、log插桩"><a href="#JEB动态调试、log插桩" class="headerlink" title="JEB动态调试、log插桩"></a>JEB动态调试、log插桩</h1><p><strong>配置JAVA环境</strong></p>
<p>略(不会的，call back)</p>
<p><strong>JEB安装</strong></p>
<p>看笔者的另一篇文章</p>
<p><a target="_blank" rel="noopener" href="https://z-bosh.github.io/2025/05/02/Android%E9%80%86%E5%90%91/">Android逆向 | Bosh’s Blog </a></p>
<h2 id="动态调试步骤"><a href="#动态调试步骤" class="headerlink" title="动态调试步骤"></a>动态调试步骤</h2><h3 id="1-修改Debug权限"><a href="#1-修改Debug权限" class="headerlink" title="1.修改Debug权限"></a><strong>1.修改Debug权限</strong></h3><p><strong>方法一：</strong></p>
<p>在AndroidMainifest.xml里添加可调式的信息</p>
<p>下面进行简单的实操一下</p>
<ul>
<li>安装包提取</li>
<li>定位功能之后，反编译xml文件</li>
<li>在applocation中下敲入</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:debuggable=<span class="string">&quot;true&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111720417.png" alt="image-20250611172012332"></p>
<ul>
<li>然后退出保持安装即可</li>
</ul>
<blockquote>
<p><strong>然后把模拟器进入开发者模式，并且系统开启USB调试</strong></p>
<p>略</p>
</blockquote>
<p><strong>方法二：</strong></p>
<p>XappDebug中hook对应的app</p>
<ul>
<li>LSPosed启动板块，勾选相应的模块</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111832048.png" alt="image-20250611183219933"></p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111833493.png" alt="image-20250611183352373"></p>
<ul>
<li>XAppDebug中勾选即可</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111835118.png" alt="image-20250611183539002"></p>
<ul>
<li>重启模拟器</li>
</ul>
<p><strong>方法三：</strong></p>
<p>面具(MagisK)命令：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.  adb shell #adb进入命令行模式</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.  su #切换至超级用户</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.  magisk resetprop ro.debuggable <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>.  stop;<span class="built_in">start</span>; #一定要通过该方式重启</span><br></pre></td></tr></table></figure>





<p><strong>方法四：</strong></p>
<p>在刷入MagiskHide Props Config模块…….</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111838057.png" alt="image-20250611183812990"></p>
<p>笔者没有进行尝试</p>
<h3 id="2-端口转发以及开启adb权限"><a href="#2-端口转发以及开启adb权限" class="headerlink" title="2.端口转发以及开启adb权限"></a>2.端口转发以及开启adb权限</h3><p>使用雷电模拟器，忽略这一步</p>
<p>版本号点击七次开启开发者模式并开启adb调试权限</p>
<p>夜神模拟器：adb connect 127.0.0.1:62001</p>
<h3 id="3-下段点"><a href="#3-下段点" class="headerlink" title="3.下段点"></a>3.下段点</h3><p>JEB简单的使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ctrl+b下断点</span><br><span class="line">    </span><br><span class="line">快捷键：</span><br><span class="line">^F6进入方法</span><br><span class="line">F6跳过方法</span><br><span class="line">F7从方法中跳出来</span><br><span class="line">R运行到光标处    </span><br></pre></td></tr></table></figure>

<ul>
<li>定位函数</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111801184.png" alt="image-20250611180123135"></p>
<ul>
<li>右键反编译，找的核心逻辑进行下断点</li>
<li>调试</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111810548.png" alt="image-20250611181012440"></p>
<h3 id="4-debug模式启动"><a href="#4-debug模式启动" class="headerlink" title="4.debug模式启动"></a>4.debug模式启动</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -D -n com.zj.wuaipojie/.ui.MainActivity</span><br></pre></td></tr></table></figure>

<p><code>adb shell am start -D -n</code><br><code>adb shell am start -D -n 包名/类名</code><br><code>am start -n 表示启动一个activity</code><br><code>am start -D 表示将应用设置为可调试模式</code></p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111803599.png" alt="image-20250611180337515"></p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111804701.png" alt="image-20250611180441620"></p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111805131.png" alt="image-20250611180529026"></p>
<p>看到这个即为成功，然后JEB进行调试</p>
<p>调试和ida调试差不多，都需要触发走到段点出</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111824781.png" alt="image-20250611182442668"></p>
<p>得到字符串</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5b</span>yS5bCkOBUSFRIMBgE=</span><br></pre></td></tr></table></figure>

<p>简单验证即可</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506111827213.png" alt="image-20250611182752131"></p>
<p><strong>总结：</strong></p>
<p>和ida调试的时候差不多</p>
<h2 id="LOG插桩"><a href="#LOG插桩" class="headerlink" title="LOG插桩"></a>LOG插桩</h2><p>定义：log插桩指的是反编译APK文件时，在对应的smali文件里，添加相应的smali代码，将程序中的关键信息，以log日志的形式进行输出。</p>
<p>照着做就行，不难</p>
<p><strong>调用命令</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">invoke-<span class="keyword">static</span> &#123;v0&#125;, Lcom/mtools/LogUtils;-&gt;v(Ljava/lang/Object;)V</span><br></pre></td></tr></table></figure>









<h1 id="什么是校验？"><a href="#什么是校验？" class="headerlink" title="什么是校验？"></a>什么是校验？</h1><p>开发者在数据传送时采用的一种校验方式</p>
<p>常见的校验有:签名校验(最常见)、dexcrc校验、apk完整性校验、路径文件校验等</p>
<h1 id="什么事APK签名？"><a href="#什么事APK签名？" class="headerlink" title="什么事APK签名？"></a>什么事APK签名？</h1><p>  通过对 Apk 进行签名，开发者可以证明对 Apk 的所有权和控制权，可用于安装和更新其应用。而在 Android 设备上的安装 Apk ，如果是一个没有被签名的 Apk，则会被拒绝安装。在安装 Apk 的时候，软件包管理器也会验证 Apk 是否已经被正确签名，并且通过签名证书和数据摘要验证是否合法没有被篡改。只有确认安全无篡改的情况下，才允许安装在设备上。</p>
<p>  简单来说，APK 的签名主要作用有两个：</p>
<ul>
<li><p>证明 APK 的所有者。</p>
</li>
<li><p>允许 Android 市场和设备校验 APK 的正确性。</p>
</li>
</ul>
<p><strong>Android 目前支持以下四种应用签名方案：</strong><br>v1 方案：基于 JAR 签名。<br>v2 方案：APK 签名方案 v2（在 Android 7.0 中引入）<br>v3 方案：APK 签名方案 v3（在 Android 9 中引入）<br>v4 方案：APK 签名方案 v4（在 Android 11 中引入）</p>
<p>V1 签名的机制主要就在 META-INF 目录下的三个文件，MANIFEST.MF，ANDROID.SF，ANDROID.RSA，他们都是 V1 签名的产物。</p>
<p>（1）MANIFEST.MF：这是摘要文件。程序遍历Apk包中的所有文件(entry)，对非文件夹非签名文件的文件，逐个用<strong>SHA1(安全哈希算法)生成摘要信息</strong>，再用<strong>Base64进行编码</strong>。如果你改变了apk包中的文件，那么在apk安装校验时，改变后的文件摘要信息与MANIFEST.MF的检验信息不同，于是程序就不能成功安装。</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506180947526.png" alt="image-20250618094730288"></p>
<p>（2）ANDROID.SF：这是对摘要的签名文件。对前一步生成的MANIFEST.MF，使用<strong>SHA1-RSA算法</strong>，用开发者的<strong>私钥</strong>进行签名。在安装时只能使用<strong>公钥</strong>才能解密它。解密之后，将它与未加密的摘要信息（即，MANIFEST.MF文件）进行对比，如果相符，则表明内容没有被异常修改。</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506180948295.png" alt="image-20250618094801149"></p>
<p>（3）ANDROID.RSA文件中保存了<strong>公钥</strong>、所采用的加密算法等信息。</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506180948791.png" alt="image-20250618094817593"></p>
<p>在某些情况下，直接对apk进行v1签名可以绕过apk的签名校验</p>
<p>v2方案会将 APK 文件视为 blob，并对整个文件进行签名检查。对 APK 进行的任何修改（包括对 ZIP 元数据进行的修改）都会使 APK 签名作废。这种形式的 APK 验证不仅速度要快得多，而且能够发现更多种未经授权的修改</p>
<h1 id="什么是签名校验？"><a href="#什么是签名校验？" class="headerlink" title="什么是签名校验？"></a>什么是签名校验？</h1><blockquote>
<p><strong>怎么检验是否存在签名校验？</strong></p>
<p>不做任何修改，直接签名安装，应用闪退则说明大概率有签名校验。</p>
<p>一般来说，普通的签名校验会导致软件的闪退，黑屏，卡启动页等<br>当然，以上都算是比较好的，有一些比较狠的作者，则会直接rm -rf &#x2F;，把基带都格掉的一键变砖。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kill/killProcess-----kill/KillProcess()可以杀死当前应用活动的进程，这一操作将会把所有该进程内的资源（包括线程全部清理掉）.当然，由于ActivityManager时刻监听着进程，一旦发现进程被非正常Kill，它将会试图去重启这个进程。这就是为什么，有时候当我们试图这样去结束掉应用时，发现它又自动重新启动的原因.</span><br><span class="line"></span><br><span class="line">system.exit-----杀死了整个进程，这时候活动所占的资源也会被释放。</span><br><span class="line"></span><br><span class="line">finish----------仅仅针对Activity，当调用finish()时，只是将活动推向后台，并没有立即释放内存，活动的资源并没有被清理</span><br></pre></td></tr></table></figure>

<p>在我个人见过最恶心的签名校验中，当属三角校验(低调大佬教的)最烦人。<br>所谓<strong>三角校验</strong>，就是so检测dex，动态加载的dex(在软件运行时会解压释放一段dex文件，检测完后就删除)检测so，dex检测动态加载的dex。</p>
<p>这里试一下作者的demo</p>
<h3 id="使用算法助手"><a href="#使用算法助手" class="headerlink" title="使用算法助手"></a>使用算法助手</h3><p>这里我们直接使用MT管理器对其进行签名之后，我们打开之后会发现会白屏。</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181009252.png" alt="image-20250618100957156"></p>
<p>然后这里打开算法助手</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181010191.png" alt="image-20250618101054128"></p>
<p>勾选这几个重新打开即可</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181012713.png" alt="image-20250618101150017"></p>
<p>然后我们就可以看见是正常打开了</p>
<h3 id="注释闪退代码"><a href="#注释闪退代码" class="headerlink" title="注释闪退代码"></a>注释闪退代码</h3><p>看一下算法助手的日志</p>
<p>找到闪退的方法</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181030925.png" alt="image-20250618103054782"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.zj.wuaipojie.ui.ChallengeFifth.onCreate</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181036501.png" alt="image-20250618103617451"></p>
<p>注释之后重新安装，就会发现我们是正常打开了</p>
<h3 id="修改验证字符串"><a href="#修改验证字符串" class="headerlink" title="修改验证字符串"></a>修改验证字符串</h3><p>直接查看日志</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181021367.png" alt="image-20250618102117277"></p>
<p>找到验证的方法checksign，这里不知道笔者为什么日志找不到那个方法 </p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181921576.png" alt="image-20250618192147380"></p>
<p>🫵🫵🫵🫵🫵🫵🫵👊👊👊👊👊👊👊🫵🫵🫵🫵🫵🫵🫵🤌🤌🤌🤌🤌</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181406542.png" alt="image-20250618140626378"></p>
<p>这块跟着作者试了一下找到验证的字符串<code>h99Ici0iopj8tC6NkfqyJgs73ss</code></p>
<p>安装签名后的apk、然后看日志记得勾选</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181500237.png" alt="image-20250618150029183"></p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181459811.png" alt="image-20250618145950560"></p>
<p>然后更具JADX中的字符串在MT中找到相应地方进行替换即可<img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181503588.png" alt="image-20250618150328543"></p>
<p>然后退出保存即可</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181505830.png" alt="image-20250618150515225"></p>
<p>即可看见成功</p>
<h3 id="修改判断条件"><a href="#修改判断条件" class="headerlink" title="修改判断条件"></a>修改判断条件</h3><p>安装原包，打开</p>
<p>修改验证条件即可</p>
<p><img src="https://raw.githubusercontent.com/Z-bosh/picture/img/img/top7/202506181409764.png" alt="image-20250618140917629"></p>
<p>以上就是最简单的获取普通校验签名的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">SignCheck</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">trueSignMD5</span> <span class="operator">=</span> <span class="string">&quot;d0add9987c7c84aeb7198c3ff26ca152&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">nowSignMD5</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 得到签名的MD5</span></span><br><span class="line">        <span class="type">PackageInfo</span> <span class="variable">packageInfo</span> <span class="operator">=</span> getPackageManager().getPackageInfo(getPackageName(),PackageManager.GET_SIGNATURES);</span><br><span class="line">        Signature[] signs = packageInfo.signatures;</span><br><span class="line">        <span class="type">String</span> <span class="variable">signBase64</span> <span class="operator">=</span> Base64Util.encodeToString(signs[<span class="number">0</span>].toByteArray());</span><br><span class="line">        nowSignMD5 = MD5Utils.MD5(signBase64);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (PackageManager.NameNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> trueSignMD5.equals(nowSignMD5);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>系统将应用的签名信息封装在 PackageInfo 中，调用 PackageManager 的 getPackageInfo(String packageName, int flags) 即可获取指定包名的签名信息。</p>
<h1 id="签名校验对抗"><a href="#签名校验对抗" class="headerlink" title="签名校验对抗"></a>签名校验对抗</h1><p>**方法一:**核心破解插件，不签名安装应用</p>
<p>**方法二:**一键过签名工具，例如MT、NP、ARMPro、CNFIX、Modex的去除签名校验功能</p>
<p>**方法三:**具体分析签名校验逻辑(手撕签名校验)</p>
<p>**方法四:**io重定向–VA&amp;SVC：ptrace+seccomp  <a target="_blank" rel="noopener" href="https://bbs.pediy.com/thread-273160.htm">SVC的TraceHook沙箱的实现&amp;无痕Hook实现思路</a></p>
<p>**方法五:**去作者家严刑拷打拿到.jks文件和密码</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">bosh</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2025/05/20/%E5%88%9D%E8%AF%86Android/">http://example.com/2025/05/20/%E5%88%9D%E8%AF%86Android/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">Bosh's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Android/">Android</a></div><div class="post-share"><div class="social-share" data-image="https://z-bosh.github.io/img/Android1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="prev-post pull-left" href="/2025/05/22/Android-CTF/" title="Android-CTF"><img class="cover" src="https://z-bosh.github.io/img/Android2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Android-CTF</div></div></a><a class="next-post pull-right" href="/2025/05/02/Android%E9%80%86%E5%90%91/" title="Android逆向"><img class="cover" src="https://z-bosh.github.io/img/Android.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Android逆向</div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a href="/2025/05/22/Android-CTF/" title="Android-CTF"><img class="cover" src="https://z-bosh.github.io/img/Android2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-22</div><div class="title">Android-CTF</div></div></a><a href="/2025/05/02/Android%E9%80%86%E5%90%91/" title="Android逆向"><img class="cover" src="https://z-bosh.github.io/img/Android.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-02</div><div class="title">Android逆向</div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">bosh</div><div class="author-info-description">努力学习中~</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Z-bosh"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">阿拉山口卖囊的小伙说：阿达西！买囊不？</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9D%E5%A7%8BAPK%E6%96%87%E7%BB%93%E6%9E%84"><span class="toc-number">1.</span> <span class="toc-text">初始APK文结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%8C%E5%BC%80%E5%8F%8A%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">双开及原理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F%E6%B1%89%E5%8C%96"><span class="toc-number">3.</span> <span class="toc-text">游戏汉化</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJVM%E3%80%81Dalvik%E3%80%81ART"><span class="toc-number">4.</span> <span class="toc-text">什么是JVM、Dalvik、ART?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#smali%E5%8F%8A%E5%85%B6%E8%AF%AD%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">smali及其语法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%BF%E5%91%8A%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.</span> <span class="toc-text">广告类型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%B9%E7%AA%97%E5%AE%9A%E4%BD%8D-%E5%A0%86%E6%A0%88%E5%88%86%E6%9E%90"><span class="toc-number">7.</span> <span class="toc-text">弹窗定位&amp;堆栈分析</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E5%A4%A7%E7%BB%84%E4%BB%B6"><span class="toc-number">8.</span> <span class="toc-text">四大组件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Activity%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">9.</span> <span class="toc-text">Activity的生命周期</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JEB%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95%E3%80%81log%E6%8F%92%E6%A1%A9"><span class="toc-number">10.</span> <span class="toc-text">JEB动态调试、log插桩</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95%E6%AD%A5%E9%AA%A4"><span class="toc-number">10.1.</span> <span class="toc-text">动态调试步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BF%AE%E6%94%B9Debug%E6%9D%83%E9%99%90"><span class="toc-number">10.1.1.</span> <span class="toc-text">1.修改Debug权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E4%BB%A5%E5%8F%8A%E5%BC%80%E5%90%AFadb%E6%9D%83%E9%99%90"><span class="toc-number">10.1.2.</span> <span class="toc-text">2.端口转发以及开启adb权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%B8%8B%E6%AE%B5%E7%82%B9"><span class="toc-number">10.1.3.</span> <span class="toc-text">3.下段点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-debug%E6%A8%A1%E5%BC%8F%E5%90%AF%E5%8A%A8"><span class="toc-number">10.1.4.</span> <span class="toc-text">4.debug模式启动</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LOG%E6%8F%92%E6%A1%A9"><span class="toc-number">10.2.</span> <span class="toc-text">LOG插桩</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%A0%A1%E9%AA%8C%EF%BC%9F"><span class="toc-number">11.</span> <span class="toc-text">什么是校验？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E4%BA%8BAPK%E7%AD%BE%E5%90%8D%EF%BC%9F"><span class="toc-number">12.</span> <span class="toc-text">什么事APK签名？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%AD%BE%E5%90%8D%E6%A0%A1%E9%AA%8C%EF%BC%9F"><span class="toc-number">13.</span> <span class="toc-text">什么是签名校验？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%AE%97%E6%B3%95%E5%8A%A9%E6%89%8B"><span class="toc-number">13.0.1.</span> <span class="toc-text">使用算法助手</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A%E9%97%AA%E9%80%80%E4%BB%A3%E7%A0%81"><span class="toc-number">13.0.2.</span> <span class="toc-text">注释闪退代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E9%AA%8C%E8%AF%81%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">13.0.3.</span> <span class="toc-text">修改验证字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6"><span class="toc-number">13.0.4.</span> <span class="toc-text">修改判断条件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AD%BE%E5%90%8D%E6%A0%A1%E9%AA%8C%E5%AF%B9%E6%8A%97"><span class="toc-number">14.</span> <span class="toc-text">签名校验对抗</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/05/22/Android-CTF/" title="Android-CTF"><img src="https://z-bosh.github.io/img/Android2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android-CTF"/></a><div class="content"><a class="title" href="/2025/05/22/Android-CTF/" title="Android-CTF">Android-CTF</a><time datetime="2025-05-22T00:00:00.000Z" title="发表于 2025-05-22 00:00:00">2025-05-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/20/%E5%88%9D%E8%AF%86Android/" title="初识Android"><img src="https://z-bosh.github.io/img/Android1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="初识Android"/></a><div class="content"><a class="title" href="/2025/05/20/%E5%88%9D%E8%AF%86Android/" title="初识Android">初识Android</a><time datetime="2025-05-20T00:00:00.000Z" title="发表于 2025-05-20 00:00:00">2025-05-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/02/Android%E9%80%86%E5%90%91/" title="Android逆向"><img src="https://z-bosh.github.io/img/Android.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android逆向"/></a><div class="content"><a class="title" href="/2025/05/02/Android%E9%80%86%E5%90%91/" title="Android逆向">Android逆向</a><time datetime="2025-05-02T00:00:00.000Z" title="发表于 2025-05-02 00:00:00">2025-05-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/03/26/shellcode%E5%92%8C%E5%8A%A0%E8%BD%BD%E5%99%A8/" title="shellcode和加载器"><img src="https://z-bosh.github.io/img/kill.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="shellcode和加载器"/></a><div class="content"><a class="title" href="/2025/03/26/shellcode%E5%92%8C%E5%8A%A0%E8%BD%BD%E5%99%A8/" title="shellcode和加载器">shellcode和加载器</a><time datetime="2025-03-26T00:00:00.000Z" title="发表于 2025-03-26 00:00:00">2025-03-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/03/20/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%AE%BE%E5%A4%87%E5%90%8E%E9%97%A8%E4%B8%8Eshellcode%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/" title="嵌入式设备后门工具的利用"><img src="https://z-bosh.github.io/img/leak3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="嵌入式设备后门工具的利用"/></a><div class="content"><a class="title" href="/2025/03/20/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%AE%BE%E5%A4%87%E5%90%8E%E9%97%A8%E4%B8%8Eshellcode%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/" title="嵌入式设备后门工具的利用">嵌入式设备后门工具的利用</a><time datetime="2025-03-20T00:00:00.000Z" title="发表于 2025-03-20 00:00:00">2025-03-20</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/background.jpg);"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2025 By bosh</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="Rweb,Pwn,Reverse,Linux,CTF,heap,stack" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>